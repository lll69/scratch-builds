(window.webpackJsonpGUI=window.webpackJsonpGUI||[]).push([["addon-entry-editor-stepping"],{"./src/addons/addons/editor-stepping/_runtime_entry.js":
/*!*************************************************************!*\
  !*** ./src/addons/addons/editor-stepping/_runtime_entry.js ***!
  \*************************************************************/
/*! exports provided: resources */function(t,e,s){"use strict";s.r(e),s.d(e,"resources",(function(){return o}));const o={"userscript.js":s(/*! ./userscript.js */"./src/addons/addons/editor-stepping/userscript.js").default}},"./src/addons/addons/editor-stepping/highlighter.js":
/*!**********************************************************!*\
  !*** ./src/addons/addons/editor-stepping/highlighter.js ***!
  \**********************************************************/
/*! exports provided: default */function(t,e,s){"use strict";s.r(e);const o="http://www.w3.org/2000/svg",i=document.createElementNS(o,"svg");i.style.position="fixed",i.style.top="-999999px",i.style.width="0",i.style.height="0",document.body.appendChild(i);let n=0;const r=new WeakMap,d=t=>(r.get(t)||r.set(t,new Set),r.get(t)),l=(t,e)=>{let s;for(const t of e)(!s||t.priority>s.priority)&&(s=t);t.style.filter=s?s.filter:""},c=(t,e)=>{const s=d(t);s.add(e),l(t,s)},a=(t,e)=>{const s=d(t);s.delete(e),l(t,s)};e.default=class{constructor(t,e){this.priority=t;const s="sa_glower_filter".concat(n++);this.filter='url("#'.concat(s,'")'),this.previousElements=new Set;const r=document.createElementNS(o,"filter");r.id=s,r.setAttribute("width","180%"),r.setAttribute("height","160%"),r.setAttribute("x","-40%"),r.setAttribute("y","-30%");const d=document.createElementNS(o,"feGaussianBlur");d.setAttribute("in","SourceGraphic"),d.setAttribute("stdDeviation","4"),r.appendChild(d);const l=document.createElementNS(o,"feComponentTransfer");l.setAttribute("result","outBlur"),r.appendChild(l);const c=document.createElementNS(o,"feFuncA");c.setAttribute("type","table"),c.setAttribute("tableValues","0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"),l.appendChild(c);const a=document.createElementNS(o,"feFlood");a.setAttribute("flood-opacity","1"),a.setAttribute("result","outColor"),r.appendChild(a),this.filterFlood=a;const u=document.createElementNS(o,"feComposite");u.setAttribute("in","outColor"),u.setAttribute("in2","outBlur"),u.setAttribute("operator","in"),u.setAttribute("result","outGlow"),r.appendChild(u);const p=document.createElementNS(o,"feComposite");p.setAttribute("in","SourceGraphic"),p.setAttribute("in2","outGlow"),p.setAttribute("operator","over"),r.appendChild(p),i.appendChild(r),this.setColor(e)}setColor(t){this.filterFlood.setAttribute("flood-color",t)}setGlowingThreads(t){const e=new Set,s=Blockly.getMainWorkspace();if(s)for(const o of t)o.stack.forEach(t=>{const i=s.getBlockById(t);if(!i)return;if(!o.stack.find(t=>{let e=i;for(;e.childBlocks_.length;)if(e=e.childBlocks_[e.childBlocks_.length-1],t===e.id)return!0;return!1})&&i.svgPath_){const t=i.svgPath_;e.add(t)}});for(const t of this.previousElements)e.has(t)||a(t,this);for(const t of e)this.previousElements.has(t)||c(t,this);this.previousElements=e}}},"./src/addons/addons/editor-stepping/userscript.js":
/*!*********************************************************!*\
  !*** ./src/addons/addons/editor-stepping/userscript.js ***!
  \*********************************************************/
/*! exports provided: default */function(t,e,s){"use strict";s.r(e);var o=s(/*! ../debugger/module.js */"./src/addons/addons/debugger/module.js"),i=s(/*! ./highlighter.js */"./src/addons/addons/editor-stepping/highlighter.js");e.default=async function({addon:t,global:e,console:s}){const n=t.tab.traps.vm,r=new i.default(0,t.settings.get("highlight-color"));t.settings.addEventListener("change",()=>{r.setColor(t.settings.get("highlight-color"))}),t.self.addEventListener("disabled",()=>{r.setGlowingThreads([])});const d=n.runtime._step;n.runtime._step=function(...e){if(d.call(this,...e),!t.self.disabled){const t=Object(o.getRunningThread)(),e=n.runtime.threads.filter(e=>e!==t&&!e.target.blocks.forceNoGlow&&!e.isCompiled);r.setGlowingThreads(e)}}}}}]);